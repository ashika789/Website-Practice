<!DOCTYPE html>

<?php include('includes/head.php'); ?>
<title>Index</title>
<link rel="stylesheet" type="text/css" href="style.css"> 
</head>
<body>
<div id="container1">
	<div id="container">
	<div id="header">
	<table id="tallign">
		<tr>
			<td class="image"><img src="logo.gif" alt="Logo"></td>
			<td>Silverado Cinemas</td>
		</tr>
	</table>
	</div>
	<div id="navigation">
	<a href="Home Page.php" class="myButton">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a href="Contact.php" class="myButton">Contact Us</a>
	<a href="Movie.php" class="myButton">All Movies</a>
	<a href="Booking.php" class="myButton">Online Bookings</a>	
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	$(".seat").ready(function(){
		$("#full").val(0);
		$("#concession").val(0);
		$("#child").val(0);
		$("#firstclassadult").val(0);
		$("#firstclasschild").val(0);
		$("#beanbag").val(0);
		$("#price").val(0);
	});
});

$(document).ready(function(){
	$(".movie").ready(function(){
		$("#cinema").prop('selectedIndex', -1);
		$("#day").prop('selectedIndex', -1);
	});
});

$(document).ready(function(){
	$("#cinema").change(function(){
		if($("#cinema").val() == "Silverado")
		{
			$("#day option[value='Monday']").remove();
			$("#day option[value='Tuesday']").remove();
			$("#day option[value='Wednesday']").remove();
			$("#day option[value='Thursday']").remove();
			$("#day option[value='Friday']").remove();
			$("#day option[value='Saturday']").remove();
			$("#day option[value='Sunday']").remove();
			$("#day").append("<option value='Monday'>Monday</option>");
			$("#day").append("<option value='Tuesday'>Tuesday</option>");
			$("#day").append("<option value='Wednesday'>Wednesday</option>");
			$("#day").append("<option value='Thursday'>Thursday</option>");
			$("#day").append("<option value='Friday'>Friday</option>");
			$("#day").append("<option value='Saturday'>Saturday</option>");
			$("#day").append("<option value='Sunday'>Sunday</option>");
		}
		else if($("#cinema").val() == "3D cinema")
		{
			$("#day option[value='Monday']").remove();
			$("#day option[value='Tuesday']").remove();
			$("#day option[value='Wednesday']").remove();
			$("#day option[value='Thursday']").remove();
			$("#day option[value='Friday']").remove();
			$("#day option[value='Saturday']").remove();
			$("#day option[value='Sunday']").remove();
			$("#day").append("<option value='Wednesday'>Wednesday</option>");
			$("#day").append("<option value='Thursday'>Thursday</option>");
			$("#day").append("<option value='Friday'>Friday</option>");
			$("#day").append("<option value='Saturday'>Saturday</option>");
			$("#day").append("<option value='Sunday'>Sunday</option>");
		}
	});
});

$(document).ready(function(){
	$(".movie").change(function(){
		var a = $("#cinema");
		var b = $("#day");
		$("#full").val(0);
		$("#concession").val(0);
		$("#child").val(0);
		$("#firstclassadult").val(0);
		$("#firstclasschild").val(0);
		$("#beanbag").val(0);
		$("#price").val(0);
		
		if(a.val() == "Silverado")
		{	
			if(b.val() == "Monday" || b.val() == "Tuesday" || b.val() == "Wednesday" || b.val() == "Thursday" || b.val() == "Friday")
			{
				$("#time option[value='12pm']").remove();
				$("#time option[value='3pm']").remove();
				$("#time option[value='4pm']").remove();
				$("#time option[value='6pm']").remove();
				$("#time option[value='7pm']").remove();
				$("#time option[value='9pm']").remove();
				$("#film option[value='Teenage Mutant Ninja Turtles']").remove();
				$("#film option[value='The Cabinet of Dr Caligari']").remove();
				$("#film option[value='Planes : Fire & Rescue']").remove();
				$("#film option[value='Begin Again']").remove();
				$("#time").append("<option value='6pm'>3pm</option>");
				$("#time").append("<option value='9pm'>5pm</option>");
				$("#time").append("<option value='9pm'>7pm</option>");
				$("#time").append("<option value='9pm'>9pm</option>");
				$("#film").append("<option value='Teenage Mutant Ninja Turtles'>Teenage Mutant Ninja Turtles</option>");
				$("#film").append("<option value='The Cabinet of Dr Caligari'>The Cabinet of Dr Caligari</option>");
				$("#film").append("<option value='Planes : Fire & Rescue'>Planes : Fire & Rescue</option>");
				$("#film").append("<option value='Begin Again'>Begin Again</option>");
				
			}
			else if(b.val() == "Saturday" || b.val() == "Sunday")
			{
				$("#time option[value='12pm']").remove();
				$("#time option[value='3pm']").remove();
				$("#time option[value='4pm']").remove();
				$("#time option[value='6pm']").remove();
				$("#time option[value='7pm']").remove();
				$("#time option[value='9pm']").remove();
				$("#film option[value='Teenage Mutant Ninja Turtles']").remove();
				$("#film option[value='The Cabinet of Dr Caligari']").remove();
				$("#film option[value='Planes : Fire & Rescue']").remove();
				$("#film option[value='Begin Again']").remove();
				$("#time").append("<option value='3pm'>3pm</option>");
				$("#time").append("<option value='6pm'>6pm</option>");
				$("#time").append("<option value='9pm'>9pm</option>");
				$("#film").append("<option value='Teenage Mutant Ninja Turtles'>Teenage Mutant Ninja Turtles</option>");
				$("#film").append("<option value='The Cabinet of Dr Caligari'>The Cabinet of Dr Caligari</option>");
				$("#film").append("<option value='Planes : Fire & Rescue'>Planes : Fire & Rescue</option>");
				$("#film").append("<option value='Begin Again'>Begin Again</option>");;
			}
		}
		else if(a.val() == "3D cinema")
		{	
			if(b.val() == "Monday" || b.val() == "Tuesday")
			{
				$("#time option[value='12pm']").remove();
				$("#time option[value='3pm']").remove();
				$("#time option[value='4pm']").remove();
				$("#time option[value='6pm']").remove();
				$("#time option[value='7pm']").remove();
				$("#time option[value='9pm']").remove();
				$("#film option[value='Teenage Mutant Ninja Turtles']").remove();
				$("#film option[value='The Cabinet of Dr Caligari']").remove();
				$("#film option[value='Fire & Rescue']").remove();
				$("#film option[value='Begin Again']").remove();
				$("#film option[value='']").remove();
			}
			else if(b.val() == "Wednesday" || b.val() == "Thursday" || b.val() == "Friday")
			{
				$("#time option[value='12pm']").remove();
				$("#time option[value='3pm']").remove();
				$("#time option[value='4pm']").remove();
				$("#time option[value='6pm']").remove();
				$("#time option[value='7pm']").remove();
				$("#time option[value='9pm']").remove();
				$("#film option[value='Teenage Mutant Ninja Turtles']").remove();
				$("#film option[value='The Cabinet of Dr Caligari']").remove();
				$("#film option[value='Planes : Fire & Rescue']").remove();
				$("#film option[value='Begin Again']").remove();
				$("#time").append("<option value='12pm'>12pm</option>");
				$("#time").append("<option value='7pm'>7pm</option>");
				$("#film").append("<option value='Teenage Mutant Ninja Turtles'>Teenage Mutant Ninja Turtles</option>");
				$("#film").append("<option value='The Cabinet of Dr Caligari'>The Cabinet of Dr Caligari</option>");
				$("#film").append("<option value='Planes : Fire & Rescue'>Planes : Fire & Rescue</option>");
				$("#film").append("<option value='Begin Again'>Begin Again</option>");;
			}
			else if(b.val() == "Saturday" || b.val() == "Sunday")
			{
				$("#time option[value='12pm']").remove();
				$("#time option[value='3pm']").remove();
				$("#time option[value='4pm']").remove();
				$("#time option[value='6pm']").remove();
				$("#time option[value='7pm']").remove();
				$("#time option[value='9pm']").remove();
				$("#film option[value='Teenage Mutant Ninja Turtles']").remove();
				$("#film option[value='The Cabinet of Dr Caligari']").remove();
				$("#film option[value='Fire & Rescue']").remove();
				$("#film option[value='Begin Again']").remove();
				$("#time").append("<option value='4pm'>4pm</option>");
				$("#time").append("<option value='7pm'>7pm</option>");
				$("#film").append("<option value='Teenage Mutant Ninja Turtles'>Teenage Mutant Ninja Turtles</option>");
				$("#film").append("<option value='The Cabinet of Dr Caligari'>The Cabinet of Dr Caligari</option>");
				$("#film").append("<option value='Planes : Fire & Rescue'>Planes : Fire & Rescue</option>");
				$("#film").append("<option value='Begin Again'>Begin Again</option>");;
			}
		}
	});
});

$(document).ready(function(){
	$(".seat").change(function(){
		var a = $("#full");
		var b = $("#concession");
		var c = $("#child");
		var d = $("#firstclassadult");
		var e = $("#firstclasschild");
		var f = $("#beanbag");
		var g = $("#day");
		var h = $("#time");
		var i = $("#cinema");
		
		if(i.val() == "Silverado")
		{
			if((g.val() == "Monday" || g.val() == "Tuesday") && (h.val() == "6pm" || h.val() == "9pm"))
			{
				var total = (parseInt(a.val())*15 || 0)+(parseInt(b.val())*12 || 0)+(parseInt(c.val())*10 || 0)+(parseInt(d.val())*25 || 0)+(parseInt(e.val())*20 || 0)+(parseInt(f.val())*20 || 0);
			}
			else if((g.val() == "Wednesday" || g.val() == "Thursday" || g.val() == "Friday") && (h.val() == "6pm" || h.val() == "9pm"))
			{
				var total = (parseInt(a.val())*18 || 0)+(parseInt(b.val())*15 || 0)+(parseInt(c.val())*12 || 0)+(parseInt(d.val())*30 || 0)+(parseInt(e.val())*25 || 0)+(parseInt(f.val())*30 || 0);
			}
			else if((g.val() == "Saturday" || g.val() == "Sunday") && (h.val() == "3pm" || h.val() == "6pm" || h.val() == "9pm"))
			{
				var total = (parseInt(a.val())*18 || 0)+(parseInt(b.val())*15 || 0)+(parseInt(c.val())*12 || 0)+(parseInt(d.val())*30 || 0)+(parseInt(e.val())*25 || 0)+(parseInt(f.val())*30 || 0);
			}
		}
		else if(i.val() == "3D cinema")
		{
			if((g.val() == "Wednesday" || g.val() == "Thursday" || g.val() == "Friday") && h.val() == "12pm")
			{
				var total = (parseInt(a.val())*12 || 0)+(parseInt(b.val())*10 || 0)+(parseInt(c.val())*8 || 0);
			}
			else if((g.val() == "Wednesday" || g.val() == "Thursday" || g.val() == "Friday") && h.val() == "7pm")
			{
				var total = (parseInt(a.val())*18 || 0)+(parseInt(b.val())*15 || 0)+(parseInt(b.val())*12 || 0);
			}
			else if((g.val() == "Saturday" || g.val() == "Sunday") && (h.val() == "4pm" || h.val() == "7pm"))
			{
				var total = (parseInt(a.val())*18 || 0)+(parseInt(b.val())*15 || 0)+(parseInt(b.val())*12 || 0);
			}
		}
		else
		{
			var total = 0;
		}
		$("#price").val(total);
	});
});
</script>
</head>
<body>
<div id="container1">
	<div id="container">
	<div id="header">
	<table id="tallign">
	
	</div>
	<div id="content">
		<table class="contcolor">
		<tr>
			<td>Cinema</td>
			<td>:</td>
 			<td>
				<select class="movie" id="cinema" name="cinema">
					<option>&nbsp;</option>
					<option value="Silverado">Silverado</option>
					<option value="3D cinema">3D cinema</option>
				</select>
			</td>
		</tr>
		<tr>
			<td>Day</td>
			<td>:</td> 
			<td>
				<select class="movie" id="day" name="day">
					<option>&nbsp;</option>
				</select>
			</td>
		</tr>
		<tr>
			<td>Film</td>
			<td>:</td>
			<td> 
				<select id="film" name="film">
					<option>&nbsp;</option>
				</select>
			</td>
		</tr>
		<tr>
			<td>Time</td>
			<td>:</td> 
			<td>
				<select id="time" name="time">
					<option>&nbsp;</option>
				</select>
			</td>
		</tr>
		<tr>
			<td>Full</td>
			<td>:</td>
			<td>
				<input id="full" class="seat" type="number" name="full" min="0">
			</td>
		</tr>
		<tr>
			<td>Concession</td>
			<td>:</td>
			<td>
				<input id="concession" class="seat" type="number" name="concession" min="0">
			</td>
		</tr>
		<tr>
			<td>Child</td>
			<td>:</td>
			<td> 
				<input id="child" class="seat" type="number" name="child" min="0">
			</td>
		</tr>
		<tr>
			<td>FirstClass-Adult</td>
			<td>:</td>
			<td>
				<input id="firstclassadult" class="seat" type="number" name="firstclassadult" min="0">
			</td>
		</tr>
		<tr>
			<td>FirstClass-Child</td>
			<td>:</td>
			<td>
				<input id="firstclasschild" class="seat" type="number" name="firstclasschild" min="0">
			</td>
		</tr>
		<tr>
			<td>Bean Bag</td>
			<td>:</td>
			<td>
				<input id="beanbag" class="seat" type="number" name="beanbag" min="0">
			</td>
		</tr>
		<tr>
			<td>Price</td>
			<td>:</td>
			<td>
				<input id="price" type="number" name="price">
			</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td><input id="submit" type="submit"></td>
		</table>		
		</form>
	</div>
	
	<script type="text/javascript">
		$(function() {
			$('#genre').change(function() {

				$('.cinema:not(#genre)').hide();

				for(i=1; i <= $('#cinema option').length; i++) {
					$('#cinema option[value="' + i + '"]').remove();
				}

				$.post(
					"http://titan.csit.rmit.edu.au/~e54061/wp/movie-service.php",
					{
						filmID: $('#genre').val(),
						CRC: "s3383816"
					},
					function(data, status) {

						$('#movieInfo').append(data);

						if($('#genre option:selected').is('[value="RC"]')) {
							$('#cinema').append($("<option/>").attr("value", "1").attr("name", "Silverado").text("Cinema Silverado"));
						} else if($('#genre option:selected').is('[value="AC"]')) {
							$('#cinema').append($("<option/>").attr("value", "1").attr("name", "Silverado").text("Cinema Silverado"));
							$('#cinema').append($("<option/>").attr("value", "2").attr("name", "3D cinema").text("Cinema 3D cinema"));
						} else if($('#genre option:selected').is('[value="CH"]')) {
							$('#cinema').append($("<option/>").attr("value", "1").attr("name", "Silverado").text("Cinema Silverado"));
							$('#cinema').append($("<option/>").attr("value", "2").attr("name", "3D cinema").text("Cinema 3D cinema"));
						} else if($('#genre option:selected').is('[value="FO"]')) {
							$('#cinema').append($("<option/>").attr("value", "1").attr("name", "3D cinema").text("Cinema 3D cinema"));
						}

						$('#cinema').show();


					}
				);

			});
		});
	</script>
</tr>
		    <tr class="alt">
		  		  <td>Name</td>

		  		<td>	<input name='name' pattern="\b[A-Za-z]{2,20}" title='Only Alphabets are allowed.' type="text" id="txtName" placeholder="Enter Name" required> </td>
		  </tr>
		  <tr class="alt">
		  		  <td>Phone Number:</td>

		  		<td><input name='phone' type="text" pattern="^\D*0(\D*\d){9}\D*$" id="txtPhone" placeholder="Enter Phone Number" required></td>
		  </tr>
		  <tr class="alt">
		  		  <td>Email Address:</td>

		  		<td><input name='email' type="text" id="txtEmail" pattern="^[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}" placeholder="Enter email" required
</div>
</div>
</body>
</html>
